<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Nec::Display::All
  
    &mdash; Documentation by YARD 0.9.20
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Nec::Display::All";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (A)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Nec.html" title="Nec (module)">Nec</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Display.html" title="Nec::Display (module)">Display</a></span></span>
     &raquo; 
    <span class="title">All</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Nec::Display::All
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Nec::Display::All</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd>Orchestrator::Constants, Orchestrator::Transcoder</dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>modules/nec/display/all.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>:title:All NEC Control Module</p>

<p>Controls all LCD displays as of 1/07/2011 Status information avaliable:</p>
<hr>

<p>(built in) connected</p>

<p>(module defined) power warming</p>

<p>volume volume_min == 0 volume_max</p>

<p>brightness brightness_min == 0 brightness_max</p>

<p>contrast contrast_min = 0 contrast_max</p>

<p>audio_mute</p>

<p>input (video input) audio (audio input)</p>


  </div>
</div>
<div class="tags">
  

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="INPUTS-constant" class="">INPUTS =
          <div class="docstring">
  <div class="discussion">
    
<p>Input selection</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
    <span class='symbol'>:vga</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span>
    <span class='symbol'>:rgbhv</span> <span class='op'>=&gt;</span> <span class='int'>2</span><span class='comma'>,</span>
    <span class='symbol'>:dvi</span> <span class='op'>=&gt;</span> <span class='int'>3</span><span class='comma'>,</span>
    <span class='symbol'>:hdmi_set</span> <span class='op'>=&gt;</span> <span class='int'>4</span><span class='comma'>,</span>    <span class='comment'># Set only?
</span>    <span class='symbol'>:video1</span> <span class='op'>=&gt;</span> <span class='int'>5</span><span class='comma'>,</span>
    <span class='symbol'>:video2</span> <span class='op'>=&gt;</span> <span class='int'>6</span><span class='comma'>,</span>
    <span class='symbol'>:svideo</span> <span class='op'>=&gt;</span> <span class='int'>7</span><span class='comma'>,</span>

    <span class='symbol'>:tv</span> <span class='op'>=&gt;</span> <span class='int'>10</span><span class='comma'>,</span>
    <span class='symbol'>:dvd1</span> <span class='op'>=&gt;</span> <span class='int'>12</span><span class='comma'>,</span>
    <span class='symbol'>:option</span> <span class='op'>=&gt;</span> <span class='int'>13</span><span class='comma'>,</span>
    <span class='symbol'>:dvd2</span> <span class='op'>=&gt;</span> <span class='int'>14</span><span class='comma'>,</span>
    <span class='symbol'>:display_port</span> <span class='op'>=&gt;</span> <span class='int'>15</span><span class='comma'>,</span>

    <span class='symbol'>:hdmi</span> <span class='op'>=&gt;</span> <span class='int'>17</span>
<span class='rbrace'>}</span></pre></dd>
      
        <dt id="AUDIO-constant" class="">AUDIO =
          
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
    <span class='symbol'>:audio1</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span>
    <span class='symbol'>:audio2</span> <span class='op'>=&gt;</span> <span class='int'>2</span><span class='comma'>,</span>
    <span class='symbol'>:audio3</span> <span class='op'>=&gt;</span> <span class='int'>3</span><span class='comma'>,</span>
    <span class='symbol'>:hdmi</span> <span class='op'>=&gt;</span> <span class='int'>4</span><span class='comma'>,</span>
    <span class='symbol'>:tv</span> <span class='op'>=&gt;</span> <span class='int'>6</span><span class='comma'>,</span>
    <span class='symbol'>:display_port</span> <span class='op'>=&gt;</span> <span class='int'>7</span>
<span class='rbrace'>}</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#auto_adjust-instance_method" title="#auto_adjust (instance method)">#<strong>auto_adjust</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Auto adjust.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#brightness-instance_method" title="#brightness (instance method)">#<strong>brightness</strong>(val)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Value based set parameter.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#connected-instance_method" title="#connected (instance method)">#<strong>connected</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#contrast-instance_method" title="#contrast (instance method)">#<strong>contrast</strong>(val)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#disconnected-instance_method" title="#disconnected (instance method)">#<strong>disconnected</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_poll-instance_method" title="#do_poll (instance method)">#<strong>do_poll</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mute_audio-instance_method" title="#mute_audio (instance method)">#<strong>mute_audio</strong>(state = true)  &#x21d2; Object </a>
    

    
      (also: #mute)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_load-instance_method" title="#on_load (instance method)">#<strong>on_load</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Called on module load complete    Alternatively you can use initialize
however will    not have access to settings and this is called    soon
afterwards.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_update-instance_method" title="#on_update (instance method)">#<strong>on_update</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#power-instance_method" title="#power (instance method)">#<strong>power</strong>(state)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Power commands.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#power%3F-instance_method" title="#power? (instance method)">#<strong>power?</strong>(options = {}, &amp;block)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#received-instance_method" title="#received (instance method)">#<strong>received</strong>(data, resolve, command)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>LCD Response code.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#switch_audio-instance_method" title="#switch_audio (instance method)">#<strong>switch_audio</strong>(input)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#switch_to-instance_method" title="#switch_to (instance method)">#<strong>switch_to</strong>(input)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unmute_audio-instance_method" title="#unmute_audio (instance method)">#<strong>unmute_audio</strong>  &#x21d2; Object </a>
    

    
      (also: #unmute)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#volume-instance_method" title="#volume (instance method)">#<strong>volume</strong>(val)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="auto_adjust-instance_method">
  
    #<strong>auto_adjust</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Auto adjust</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


199
200
201
202
203
204</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'modules/nec/display/all.rb', line 199</span>

<span class='kw'>def</span> <span class='id identifier rubyid_auto_adjust'>auto_adjust</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='const'>OPERATION_CODE</span><span class='lbracket'>[</span><span class='symbol'>:auto_setup</span><span class='rbracket'>]</span> <span class='comment'>#&quot;001E&quot;    # Page + OP code
</span>    <span class='id identifier rubyid_message'>message</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0001</span><span class='tstring_end'>&quot;</span></span>    <span class='comment'># Value of input as a hex string
</span>
    <span class='id identifier rubyid_send_checksum'>send_checksum</span><span class='lparen'>(</span><span class='symbol'>:set_parameter</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='label'>delay_on_receive:</span> <span class='int'>4000</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="brightness-instance_method">
  
    #<strong>brightness</strong>(val)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Value based set parameter</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


210
211
212
213
214
215
216
217
218</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'modules/nec/display/all.rb', line 210</span>

<span class='kw'>def</span> <span class='id identifier rubyid_brightness'>brightness</span><span class='lparen'>(</span><span class='id identifier rubyid_val'>val</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_in_range'>in_range</span><span class='lparen'>(</span><span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='comma'>,</span> <span class='int'>100</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='const'>OPERATION_CODE</span><span class='lbracket'>[</span><span class='symbol'>:brightness_status</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>+=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='lparen'>(</span><span class='int'>16</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='period'>.</span><span class='id identifier rubyid_rjust'>rjust</span><span class='lparen'>(</span><span class='int'>4</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>    <span class='comment'># Value of input as a hex string
</span>
    <span class='id identifier rubyid_send_checksum'>send_checksum</span><span class='lparen'>(</span><span class='symbol'>:set_parameter</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='label'>name:</span> <span class='symbol'>:brightness</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_send_checksum'>send_checksum</span><span class='lparen'>(</span><span class='symbol'>:command</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0C</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>name:</span> <span class='symbol'>:brightness_save</span><span class='rparen'>)</span>    <span class='comment'># Save the settings
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="connected-instance_method">
  
    #<strong>connected</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


70
71
72
73
74
75
76
77</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'modules/nec/display/all.rb', line 70</span>

<span class='kw'>def</span> <span class='id identifier rubyid_connected'>connected</span>
    <span class='id identifier rubyid_do_poll'>do_poll</span>

    <span class='id identifier rubyid_schedule'>schedule</span><span class='period'>.</span><span class='id identifier rubyid_every'>every</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>50s</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-- Polling Display</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_do_poll'>do_poll</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="contrast-instance_method">
  
    #<strong>contrast</strong>(val)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


220
221
222
223
224
225
226
227
228</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'modules/nec/display/all.rb', line 220</span>

<span class='kw'>def</span> <span class='id identifier rubyid_contrast'>contrast</span><span class='lparen'>(</span><span class='id identifier rubyid_val'>val</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_in_range'>in_range</span><span class='lparen'>(</span><span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='comma'>,</span> <span class='int'>100</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='const'>OPERATION_CODE</span><span class='lbracket'>[</span><span class='symbol'>:contrast_status</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>+=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='lparen'>(</span><span class='int'>16</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='period'>.</span><span class='id identifier rubyid_rjust'>rjust</span><span class='lparen'>(</span><span class='int'>4</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>    <span class='comment'># Value of input as a hex string
</span>
    <span class='id identifier rubyid_send_checksum'>send_checksum</span><span class='lparen'>(</span><span class='symbol'>:set_parameter</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='label'>name:</span> <span class='symbol'>:contrast</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_send_checksum'>send_checksum</span><span class='lparen'>(</span><span class='symbol'>:command</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0C</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>name:</span> <span class='symbol'>:contrast_save</span><span class='rparen'>)</span>    <span class='comment'># Save the settings
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="disconnected-instance_method">
  
    #<strong>disconnected</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


79
80
81
82
83
84
85</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'modules/nec/display/all.rb', line 79</span>

<span class='kw'>def</span> <span class='id identifier rubyid_disconnected'>disconnected</span>
    <span class='comment'>#
</span>    <span class='comment'># Disconnected may be called without calling connected
</span>    <span class='comment'>#    Hence the check if timer is nil here
</span>    <span class='comment'>#
</span>    <span class='id identifier rubyid_schedule'>schedule</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="do_poll-instance_method">
  
    #<strong>do_poll</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


319
320
321
322
323
324
325
326
327
328
329
330
331</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'modules/nec/display/all.rb', line 319</span>

<span class='kw'>def</span> <span class='id identifier rubyid_do_poll'>do_poll</span>
    <span class='id identifier rubyid_power?'>power?</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='symbol'>:priority</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Polling, power = </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='lbracket'>[</span><span class='symbol'>:power</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>

        <span class='kw'>if</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='symbol'>:power</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='const'>On</span>
            <span class='id identifier rubyid_power_on_delay'>power_on_delay</span>
            <span class='id identifier rubyid_mute_status'>mute_status</span>
            <span class='id identifier rubyid_volume_status'>volume_status</span>
            <span class='id identifier rubyid_video_input'>video_input</span>
            <span class='id identifier rubyid_audio_input'>audio_input</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="mute_audio-instance_method">
  
    #<strong>mute_audio</strong>(state = true)  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='mute-instance_method'>mute</span></span>
    </span>
  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


243
244
245
246
247
248
249
250</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'modules/nec/display/all.rb', line 243</span>

<span class='kw'>def</span> <span class='id identifier rubyid_mute_audio'>mute_audio</span><span class='lparen'>(</span><span class='id identifier rubyid_state'>state</span> <span class='op'>=</span> <span class='kw'>true</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='const'>OPERATION_CODE</span><span class='lbracket'>[</span><span class='symbol'>:mute_status</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>+=</span> <span class='id identifier rubyid_is_affirmative?'>is_affirmative?</span><span class='lparen'>(</span><span class='id identifier rubyid_state'>state</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0001</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0000</span><span class='tstring_end'>&quot;</span></span>    <span class='comment'># Value of input as a hex string
</span>
    <span class='id identifier rubyid_send_checksum'>send_checksum</span><span class='lparen'>(</span><span class='symbol'>:set_parameter</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='label'>name:</span> <span class='symbol'>:mute</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>requested to update mute to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_state'>state</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="on_load-instance_method">
  
    #<strong>on_load</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Called on module load complete</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Alternatively</span> <span class='id identifier rubyid_you'>you</span> <span class='id identifier rubyid_can'>can</span> <span class='id identifier rubyid_use'>use</span> <span class='id identifier rubyid_initialize'>initialize</span> <span class='id identifier rubyid_however'>however</span> <span class='id identifier rubyid_will'>will</span>
<span class='kw'>not</span> <span class='id identifier rubyid_have'>have</span> <span class='id identifier rubyid_access'>access</span> <span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_settings'>settings</span> <span class='kw'>and</span> <span class='id identifier rubyid_this'>this</span> <span class='id identifier rubyid_is'>is</span> <span class='id identifier rubyid_called'>called</span>
<span class='id identifier rubyid_soon'>soon</span> <span class='id identifier rubyid_afterwards'>afterwards</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


56
57
58
59
60
61
62
63</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'modules/nec/display/all.rb', line 56</span>

<span class='kw'>def</span> <span class='id identifier rubyid_on_load'>on_load</span>
    <span class='id identifier rubyid_on_update'>on_update</span>

    <span class='kw'>self</span><span class='lbracket'>[</span><span class='symbol'>:brightness_min</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='kw'>self</span><span class='lbracket'>[</span><span class='symbol'>:contrast_min</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='int'>0</span>

    <span class='ivar'>@input_double_check</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="on_update-instance_method">
  
    #<strong>on_update</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


65
66
67
68</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'modules/nec/display/all.rb', line 65</span>

<span class='kw'>def</span> <span class='id identifier rubyid_on_update'>on_update</span>
    <span class='kw'>self</span><span class='lbracket'>[</span><span class='symbol'>:volume_min</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_setting'>setting</span><span class='lparen'>(</span><span class='symbol'>:volume_min</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='int'>0</span>
    <span class='kw'>self</span><span class='lbracket'>[</span><span class='symbol'>:volume_max</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_setting'>setting</span><span class='lparen'>(</span><span class='symbol'>:volume_max</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='int'>100</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="power-instance_method">
  
    #<strong>power</strong>(state)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Power commands</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'modules/nec/display/all.rb', line 91</span>

<span class='kw'>def</span> <span class='id identifier rubyid_power'>power</span><span class='lparen'>(</span><span class='id identifier rubyid_state'>state</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C203D6</span><span class='tstring_end'>&quot;</span></span>

    <span class='id identifier rubyid_current'>current</span> <span class='op'>=</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='symbol'>:power</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_is_affirmative?'>is_affirmative?</span><span class='lparen'>(</span><span class='id identifier rubyid_state'>state</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_current'>current</span> <span class='op'>==</span> <span class='const'>Off</span>
            <span class='id identifier rubyid_message'>message</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0001</span><span class='tstring_end'>&quot;</span></span>    <span class='comment'># Power On
</span>            <span class='id identifier rubyid_send_checksum'>send_checksum</span><span class='lparen'>(</span><span class='symbol'>:command</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='symbol'>:name</span> <span class='op'>=&gt;</span> <span class='symbol'>:power</span><span class='comma'>,</span> <span class='symbol'>:delay</span> <span class='op'>=&gt;</span> <span class='int'>5000</span><span class='rbrace'>}</span><span class='rparen'>)</span>
            <span class='kw'>self</span><span class='lbracket'>[</span><span class='symbol'>:warming</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
            <span class='kw'>self</span><span class='lbracket'>[</span><span class='symbol'>:power</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>On</span>
            <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-- NEC LCD, requested to power on</span><span class='tstring_end'>&quot;</span></span>

            <span class='id identifier rubyid_power_on_delay'>power_on_delay</span>
            <span class='id identifier rubyid_mute_status'>mute_status</span><span class='lparen'>(</span><span class='int'>20</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_volume_status'>volume_status</span><span class='lparen'>(</span><span class='int'>20</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
    <span class='kw'>else</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_current'>current</span> <span class='op'>==</span> <span class='const'>On</span>
            <span class='id identifier rubyid_message'>message</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0004</span><span class='tstring_end'>&quot;</span></span>    <span class='comment'># Power Off
</span>            <span class='id identifier rubyid_send_checksum'>send_checksum</span><span class='lparen'>(</span><span class='symbol'>:command</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='symbol'>:name</span> <span class='op'>=&gt;</span> <span class='symbol'>:power</span><span class='comma'>,</span> <span class='symbol'>:delay</span> <span class='op'>=&gt;</span> <span class='int'>10000</span><span class='comma'>,</span> <span class='symbol'>:timeout</span> <span class='op'>=&gt;</span> <span class='int'>10000</span><span class='rbrace'>}</span><span class='rparen'>)</span>

            <span class='kw'>self</span><span class='lbracket'>[</span><span class='symbol'>:power</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>Off</span>
            <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-- NEC LCD, requested to power off</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="power?-instance_method">
  
    #<strong>power?</strong>(options = {}, &amp;block)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


118
119
120
121
122
123</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'modules/nec/display/all.rb', line 118</span>

<span class='kw'>def</span> <span class='id identifier rubyid_power?'>power?</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:emit</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='symbol'>:command</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>01D6</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_send_checksum'>send_checksum</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="received-instance_method">
  
    #<strong>received</strong>(data, resolve, command)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>LCD Response code</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'modules/nec/display/all.rb', line 261</span>

<span class='kw'>def</span> <span class='id identifier rubyid_received'>received</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='comma'>,</span> <span class='id identifier rubyid_resolve'>resolve</span><span class='comma'>,</span> <span class='id identifier rubyid_command'>command</span><span class='rparen'>)</span>
    <span class='comment'>#
</span>    <span class='comment'># Check for valid response
</span>    <span class='comment'>#
</span>    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_check_checksum'>check_checksum</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-- NEC LCD, checksum failed for command: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_command'>command</span><span class='lbracket'>[</span><span class='symbol'>:data</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span> <span class='kw'>if</span> <span class='id identifier rubyid_command'>command</span>
        <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-- NEC LCD, response was: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_data'>data</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
        <span class='kw'>return</span> <span class='kw'>false</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NEC LCD responded </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_data'>data</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>

    <span class='kw'>case</span> <span class='const'>MSG_TYPE</span><span class='lbracket'>[</span><span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>4</span><span class='rbracket'>]</span><span class='rbracket'>]</span>    <span class='comment'># Check the MSG_TYPE (B, D or F)
</span>        <span class='kw'>when</span> <span class='symbol'>:command_reply</span>
            <span class='comment'>#
</span>            <span class='comment'># Power on and off
</span>            <span class='comment'>#    8..9 == &quot;00&quot; means no error 
</span>            <span class='kw'>if</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>10</span><span class='op'>..</span><span class='int'>15</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C203D6</span><span class='tstring_end'>&quot;</span></span>    <span class='comment'># Means power comamnd
</span>                <span class='kw'>if</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>8</span><span class='op'>..</span><span class='int'>9</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>00</span><span class='tstring_end'>&quot;</span></span>
                    <span class='id identifier rubyid_power_on_delay'>power_on_delay</span><span class='lparen'>(</span><span class='int'>99</span><span class='rparen'>)</span>    <span class='comment'># wait until the screen has turned on before sending commands (99 == high priority)
</span>                <span class='kw'>else</span>
                    <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-- NEC LCD, command failed: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_command'>command</span><span class='lbracket'>[</span><span class='symbol'>:data</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_command'>command</span>
                    <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-- NEC LCD, response was: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_data'>data</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
                    <span class='kw'>return</span> <span class='kw'>false</span>    <span class='comment'># command failed
</span>                <span class='kw'>end</span>
            <span class='kw'>elsif</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>10</span><span class='op'>..</span><span class='int'>13</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>00D6</span><span class='tstring_end'>&quot;</span></span>    <span class='comment'># Power status response
</span>                <span class='kw'>if</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>10</span><span class='op'>..</span><span class='int'>11</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>00</span><span class='tstring_end'>&quot;</span></span>
                    <span class='kw'>if</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>23</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>        <span class='comment'># On == 1, Off == 4
</span>                        <span class='kw'>self</span><span class='lbracket'>[</span><span class='symbol'>:power</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>On</span>
                    <span class='kw'>else</span>
                        <span class='kw'>self</span><span class='lbracket'>[</span><span class='symbol'>:power</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>Off</span>
                        <span class='kw'>self</span><span class='lbracket'>[</span><span class='symbol'>:warming</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>false</span>
                    <span class='kw'>end</span>
                <span class='kw'>else</span>
                    <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-- NEC LCD, command failed: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_command'>command</span><span class='lbracket'>[</span><span class='symbol'>:data</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_command'>command</span>
                    <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-- NEC LCD, response was: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_data'>data</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
                    <span class='kw'>return</span> <span class='kw'>false</span>    <span class='comment'># command failed
</span>                <span class='kw'>end</span>

            <span class='kw'>end</span>

        <span class='kw'>when</span> <span class='symbol'>:get_parameter_reply</span><span class='comma'>,</span> <span class='symbol'>:set_parameter_reply</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>8</span><span class='op'>..</span><span class='int'>9</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>00</span><span class='tstring_end'>&quot;</span></span>
                <span class='id identifier rubyid_parse_response'>parse_response</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='comma'>,</span> <span class='id identifier rubyid_command'>command</span><span class='rparen'>)</span>
            <span class='kw'>elsif</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>8</span><span class='op'>..</span><span class='int'>9</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BE</span><span class='tstring_end'>&#39;</span></span>    <span class='comment'># Wait response
</span>                <span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='lbracket'>[</span><span class='symbol'>:data</span><span class='rbracket'>]</span><span class='rparen'>)</span>    <span class='comment'># checksum already added
</span>                <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-- NEC LCD, response was a wait command</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>else</span>
                <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-- NEC LCD, get or set failed: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_command'>command</span><span class='lbracket'>[</span><span class='symbol'>:data</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_command'>command</span>
                <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-- NEC LCD, response was: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_data'>data</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
                <span class='kw'>return</span> <span class='kw'>false</span>
            <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='kw'>true</span> <span class='comment'># Command success
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="switch_audio-instance_method">
  
    #<strong>switch_audio</strong>(input)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


180
181
182
183
184
185
186
187
188
189
190
191
192
193</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'modules/nec/display/all.rb', line 180</span>

<span class='kw'>def</span> <span class='id identifier rubyid_switch_audio'>switch_audio</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_input'>input</span> <span class='op'>=</span> <span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span> <span class='kw'>if</span> <span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
    <span class='kw'>self</span><span class='lbracket'>[</span><span class='symbol'>:target_audio</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_input'>input</span>

    <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='symbol'>:set_parameter</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='const'>OPERATION_CODE</span><span class='lbracket'>[</span><span class='symbol'>:audio_input</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>+=</span> <span class='const'><span class='object_link'><a href="#AUDIO-constant" title="Nec::Display::All::AUDIO (constant)">AUDIO</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_input'>input</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='lparen'>(</span><span class='int'>16</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='period'>.</span><span class='id identifier rubyid_rjust'>rjust</span><span class='lparen'>(</span><span class='int'>4</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>    <span class='comment'># Value of input as a hex string
</span>
    <span class='id identifier rubyid_send_checksum'>send_checksum</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='label'>name:</span> <span class='symbol'>:audio</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_mute_status'>mute_status</span><span class='lparen'>(</span><span class='int'>20</span><span class='rparen'>)</span>        <span class='comment'># higher status than polling commands - lower than input switching
</span>    <span class='id identifier rubyid_volume_status'>volume_status</span><span class='lparen'>(</span><span class='int'>20</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-- NEC LCD, requested to switch audio to: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_input'>input</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="switch_to-instance_method">
  
    #<strong>switch_to</strong>(input)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'modules/nec/display/all.rb', line 148</span>

<span class='kw'>def</span> <span class='id identifier rubyid_switch_to'>switch_to</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_input'>input</span> <span class='op'>=</span> <span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
    <span class='kw'>self</span><span class='lbracket'>[</span><span class='symbol'>:target_input</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_input'>input</span>
    <span class='kw'>self</span><span class='lbracket'>[</span><span class='symbol'>:target_audio</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>nil</span>

    <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='symbol'>:set_parameter</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='const'>OPERATION_CODE</span><span class='lbracket'>[</span><span class='symbol'>:video_input</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>+=</span> <span class='const'><span class='object_link'><a href="#INPUTS-constant" title="Nec::Display::All::INPUTS (constant)">INPUTS</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_input'>input</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='lparen'>(</span><span class='int'>16</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='period'>.</span><span class='id identifier rubyid_rjust'>rjust</span><span class='lparen'>(</span><span class='int'>4</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>    <span class='comment'># Value of input as a hex string
</span>
    <span class='id identifier rubyid_send_checksum'>send_checksum</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='label'>name:</span> <span class='symbol'>:input</span><span class='comma'>,</span> <span class='label'>delay:</span> <span class='int'>6000</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_video_input'>video_input</span>

    <span class='comment'># Double check the input again!
</span>    <span class='ivar'>@input_double_check</span><span class='period'>.</span><span class='id identifier rubyid_cancel'>cancel</span> <span class='kw'>if</span> <span class='ivar'>@input_double_check</span>
    <span class='ivar'>@input_double_check</span> <span class='op'>=</span> <span class='id identifier rubyid_schedule'>schedule</span><span class='period'>.</span><span class='id identifier rubyid_in'>in</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>4s</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='ivar'>@input_double_check</span> <span class='op'>=</span> <span class='kw'>nil</span>
        <span class='id identifier rubyid_video_input'>video_input</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-- NEC LCD, requested to switch to: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_input'>input</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unmute_audio-instance_method">
  
    #<strong>unmute_audio</strong>  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='unmute-instance_method'>unmute</span></span>
    </span>
  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


253
254
255</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'modules/nec/display/all.rb', line 253</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unmute_audio'>unmute_audio</span>
    <span class='id identifier rubyid_mute_audio'>mute_audio</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="volume-instance_method">
  
    #<strong>volume</strong>(val)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


230
231
232
233
234
235
236
237
238
239
240</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'modules/nec/display/all.rb', line 230</span>

<span class='kw'>def</span> <span class='id identifier rubyid_volume'>volume</span><span class='lparen'>(</span><span class='id identifier rubyid_val'>val</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_in_range'>in_range</span><span class='lparen'>(</span><span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='comma'>,</span> <span class='int'>100</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='const'>OPERATION_CODE</span><span class='lbracket'>[</span><span class='symbol'>:volume_status</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>+=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='lparen'>(</span><span class='int'>16</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='period'>.</span><span class='id identifier rubyid_rjust'>rjust</span><span class='lparen'>(</span><span class='int'>4</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>    <span class='comment'># Value of input as a hex string
</span>
    <span class='kw'>self</span><span class='lbracket'>[</span><span class='symbol'>:audio_mute</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>false</span>    <span class='comment'># audio is unmuted when the volume is set
</span>
    <span class='id identifier rubyid_send_checksum'>send_checksum</span><span class='lparen'>(</span><span class='symbol'>:set_parameter</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='label'>name:</span> <span class='symbol'>:volume</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_send_checksum'>send_checksum</span><span class='lparen'>(</span><span class='symbol'>:command</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0C</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>name:</span> <span class='symbol'>:volume_save</span><span class='rparen'>)</span>    <span class='comment'># Save the settings
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Fri Jun 28 04:36:33 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.20 (ruby-2.4.6).
</div>

    </div>
  </body>
</html>